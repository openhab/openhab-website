(window.webpackJsonp=window.webpackJsonp||[]).push([[166],{679:function(t,e,n){"use strict";n.r(e);var s=n(0),a=Object(s.a)({},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[t._m(0),t._v(" "),n("p",[t._v('Binding to retrieve the Weather Warnings of the "Deutscher Wetterdienstes" from the '),n("a",{attrs:{href:"https://maps.dwd.de/geoserver/web/",target:"_blank",rel:"noopener noreferrer"}},[t._v("DWD Geoserver"),n("OutboundLink")],1),t._v(".\nThe DWD provides weather warnings for the German area.\nRegions outside of Germany are not supported.")]),t._v(" "),t._m(1),t._v(" "),n("p",[t._v("This binding supports exactly one thing - Weather Warning.\nOne Thing provides one or multiple warnings for a city.")]),t._v(" "),t._m(2),t._v(" "),n("table",[t._m(3),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("cellId")]),t._v(" "),n("td",[t._v("-")]),t._v(" "),n("td",[t._v("Yes")]),t._v(" "),n("td",[t._v("Id of the area to retrieve weather warnings. For a list of valid IDs look at "),n("a",{attrs:{href:"https://www.dwd.de/DE/leistungen/opendata/help/warnungen/cap_warncellids_csv.csv",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.dwd.de/DE/leistungen/opendata/help/warnungen/cap_warncellids_csv.csv"),n("OutboundLink")],1),t._v(". With the % sign at the end it is possible to query multiple cells at once. For example with 8111% are cells retrieved that starts with 8111.")])]),t._v(" "),t._m(4),t._v(" "),t._m(5)])]),t._v(" "),n("p",[t._v("The plugin will deliver no warnings if the number of retrieved warnings for one thing is to big.\nThis can only happen if you select to many Cells with the %-Operator.\nIt will happen if the area contains about 300+ warnings.")]),t._v(" "),n("p",[t._v("Example:")]),t._v(" "),t._m(6),t._m(7),t._v(" "),n("p",[t._v("The are multiple channels for every weather warning.\nThe channels are numbered, so channels ending in 1 are for the first warning, ending with 2 are for the second warning and so on.\nThe warnings will be sorted by severity and for warnings with same severity by the valid from date.\nThis ensures that in the channels for the first warning will always be the highest severity.\nIf the API returns more warnings than the configured number in the thing, the warnings with the lowest severity will be dropped.")]),t._v(" "),t._m(8),t._v(" "),n("p",[t._v("All channels are readonly!")]),t._v(" "),t._m(9),t._v(" "),n("p",[t._v("More explanations about the specific values of the channels can be found in the documentation of the DWD at: "),n("a",{attrs:{href:"https://www.dwd.de/DE/leistungen/opendata/help/warnungen/cap_dwd_profile_de_pdf.pdf?__blob=publicationFile&v=7",target:"_blank",rel:"noopener noreferrer"}},[t._v("CAP DWD Profile 1.2"),n("OutboundLink")],1)]),t._v(" "),t._m(10),t._v(" "),n("p",[t._v("demo.things:")]),t._v(" "),t._m(11),n("p",[t._v("demo.items:")]),t._v(" "),t._m(12),n("p",[t._v("demo.sitemap:")]),t._v(" "),t._m(13),n("p",[t._v("demo.rules")]),t._v(" "),t._m(14),n("DocPreviousVersions"),t._v(" "),n("EditPageLink")],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"dwdunwetter-binding"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dwdunwetter-binding","aria-hidden":"true"}},[this._v("#")]),this._v(" DwdUnwetter Binding")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"supported-things"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#supported-things","aria-hidden":"true"}},[this._v("#")]),this._v(" Supported Things")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"thing-configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#thing-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Thing Configuration")])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Property")]),this._v(" "),e("th",[this._v("Default")]),this._v(" "),e("th",[this._v("Required")]),this._v(" "),e("th",[this._v("Description")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("refresh")]),this._v(" "),e("td",[this._v("30")]),this._v(" "),e("td",[this._v("No")]),this._v(" "),e("td",[this._v("Time between to API requests in minutes. Minimum 15 minutes.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("warningCount")]),this._v(" "),e("td",[this._v("1")]),this._v(" "),e("td",[this._v("No")]),this._v(" "),e("td",[this._v("Number of warnings to provide. For each warning there will multiple channels.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('dwdunwetter:dwdwarnings:cologne "Warnings Cologne" [ cellId="105315000", refresh=15, warningCount=1 ]\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"channels"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#channels","aria-hidden":"true"}},[this._v("#")]),this._v(" Channels")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",[n("thead",[n("tr",[n("th",[t._v("Channel")]),t._v(" "),n("th",[t._v("Type")]),t._v(" "),n("th",[t._v("Description")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("warningN")]),t._v(" "),n("td",[t._v("Switch")]),t._v(" "),n("td",[t._v("ON if a warning is present, OFF else")])]),t._v(" "),n("tr",[n("td",[t._v("UpdatedN")]),t._v(" "),n("td",[t._v("Trigger Channel")]),t._v(" "),n("td",[t._v("Triggers NEW if a warning is send the first time")])]),t._v(" "),n("tr",[n("td",[t._v("severityN")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("Severity of the warning. Possible values are Minor, Moderate, Severe and Extreme")])]),t._v(" "),n("tr",[n("td",[t._v("headlineN")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v('Headline of the warning like "Amtliche Warnung vor FROST"')])]),t._v(" "),n("tr",[n("td",[t._v("descriptionN")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("Textual description of the warning")])]),t._v(" "),n("tr",[n("td",[t._v("eventN")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("Type of the warning, e.g. FROST")])]),t._v(" "),n("tr",[n("td",[t._v("effectiveN")]),t._v(" "),n("td",[t._v("DateTime")]),t._v(" "),n("td",[t._v("Issued Date and Time")])]),t._v(" "),n("tr",[n("td",[t._v("onsetN")]),t._v(" "),n("td",[t._v("DateTime")]),t._v(" "),n("td",[t._v("Start Date and Time for which the warning is valid")])]),t._v(" "),n("tr",[n("td",[t._v("expiresN")]),t._v(" "),n("td",[t._v("DateTime")]),t._v(" "),n("td",[t._v("End Date and Time for which the warning is valid")])]),t._v(" "),n("tr",[n("td",[t._v("altitudeN")]),t._v(" "),n("td",[t._v("Number:Length")]),t._v(" "),n("td",[t._v("Lower Height above sea level for which the warning is valid")])]),t._v(" "),n("tr",[n("td",[t._v("ceilingN")]),t._v(" "),n("td",[t._v("Number:Length")]),t._v(" "),n("td",[t._v("Upper Height above sea level for which the warning is valid")])]),t._v(" "),n("tr",[n("td",[t._v("urgencyN")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("Urgency of the warning Possible values are Future and Immediate")])]),t._v(" "),n("tr",[n("td",[t._v("instructionN")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("Additional instructions and safety informations")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The main purpose of the channel "),e("em",[this._v("warning")]),this._v(" is to be used for controlling visibility in sitemaps.\nThe channel can also be used in rules to check if there is a warning present.\nIt should not be used for rules that need to fire if a new warning shows up.\nIf a warning is replaced by another warning, that channel stays at ON, there will be no state change.\nFor rules the need to fire if a new warning show up there is the trigger channel "),e("em",[this._v("updatedN")]),this._v(".\nThat trigger channel fires an event whenever a warning is send the first time to that thing.\nThat channel triggers if a warning is replaced by another.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"full-example"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#full-example","aria-hidden":"true"}},[this._v("#")]),this._v(" Full Example")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('dwdunwetter:dwdwarnings:cologne "Warnings Cologne" [ cellId="105315000", refresh=15, warningCount=1 ]\n')])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-dsl"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WarningCologne")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Weather warning"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dwdunwetter:dwdwarnings:cologne:warning1"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WarningCologneServerity")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Severity[%s]"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dwdunwetter:dwdwarnings:cologne:severity1"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WarningCologneBeschreibung")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[%s]"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dwdunwetter:dwdwarnings:cologne:description1"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WarningCologneAusgabedatum")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Issued at [%s]"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dwdunwetter:dwdwarnings:cologne:effective1"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WarningCologneGueltigAb")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Valid from [%s]"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dwdunwetter:dwdwarnings:cologne:onset1"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WarningCologneGueltigBis")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Valid to [%s]"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dwdunwetter:dwdwarnings:cologne:expires1"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WarningCologneTyp")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Type [%s]"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dwdunwetter:dwdwarnings:cologne:event1"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WarningCologneTitel")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[%s]"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dwdunwetter:dwdwarnings:cologne:headline1"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WarningCologneHoeheAb")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Height from [%d m]"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dwdunwetter:dwdwarnings:cologne:altitude1"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WarningCologneHoeheBis")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Height to [%d m]"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dwdunwetter:dwdwarnings:cologne:ceiling1"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WarningCologneUrgency")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[%s]"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dwdunwetter:dwdwarnings:cologne:urgency1"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WarningCologneInstruction")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Additional information: [%s]"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dwdunwetter:dwdwarnings:cologne:instruction1"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-dsl"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sitemap")]),t._v(" demo "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("label")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Main Menu"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Frame")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Text")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("item")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("WarningCologneTitel "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("visibility")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("WarningCologne"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("ON"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Text")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("item")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("WarningCologneBeschreibung "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("visibility")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("WarningCologne"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("ON"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-rules"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("rule")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"New Warnung"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("when")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Channel")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dwdunwetter:dwdwarnings:cologne:updated1'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("triggered")]),t._v(" NEW\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// New Warning send a push notification to everyone")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v(" \n\n")])])])}],!1,null,null,null);e.default=a.exports}}]);