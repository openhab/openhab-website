(window.webpackJsonp=window.webpackJsonp||[]).push([[314],{914:function(t,a,e){"use strict";e.r(a);var s=e(0),n=Object(s.a)({},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),e("AddonLogo"),t._v(" "),e("p",[e("a",{attrs:{href:"https://onebusaway.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("OneBusAway"),e("OutboundLink")],1),t._v(" is an open source, real-time, transit-information service.  This binding allows you to get events based on transit arrival and departures, so you can create rules to do something based on that data.")]),t._v(" "),t._m(1),t._v(" "),e("p",[t._v("You will need to obtain an API key from the transit provider you want to load data from.\nDifferent providers of the service have different policies, so you will have to figure this part out for each "),e("a",{attrs:{href:"https://github.com/OneBusAway/onebusaway/wiki/OneBusAway-Deployments",target:"_blank",rel:"noopener noreferrer"}},[t._v("deployment"),e("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(2),t._v(" "),e("p",[t._v("This binding supports route arrival and departure times for all stops provided from a OneBusAway deployment.")]),t._v(" "),t._m(3),t._v(" "),e("p",[t._v("The following configuration options are available for the API binding:")]),t._v(" "),t._m(4),t._v(" "),e("p",[t._v("The following configuration options are available for the Stop binding (which requires an API binding):")]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),e("p",[t._v("The following configuration options are available for a Route (which requires a Stop binding):")]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),e("p",[t._v("The Route Thing supports the following state channels:")]),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),e("p",[t._v("Here is an example of a configuration for a bus stop in Seattle, WA, USA that has three routes configured.")]),t._v(" "),t._m(13),t._v(" "),t._m(14),t._m(15),t._v(" "),t._m(16),e("DocPreviousVersions"),t._v(" "),e("EditPageLink")],1)},[function(){var t=this.$createElement,a=this._self._c||t;return a("h1",{attrs:{id:"onebusaway-binding"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onebusaway-binding","aria-hidden":"true"}},[this._v("#")]),this._v(" OneBusAway Binding")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"preparation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#preparation","aria-hidden":"true"}},[this._v("#")]),this._v(" Preparation")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"supported-things"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#supported-things","aria-hidden":"true"}},[this._v("#")]),this._v(" Supported Things")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"binding-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#binding-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Binding Configuration")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("table",[e("thead",[e("tr",[e("th",[t._v("Parameter")]),t._v(" "),e("th",[t._v("Name")]),t._v(" "),e("th",[t._v("Description")]),t._v(" "),e("th",[t._v("Required")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("apiKey")])]),t._v(" "),e("td",[t._v("API Key")]),t._v(" "),e("td",[t._v("The API key given to you by a transit provider for their deployment.")]),t._v(" "),e("td",[t._v("yes")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("apiServer")])]),t._v(" "),e("td",[t._v("API Server")]),t._v(" "),e("td",[t._v("The domain name of the deployment to talk to, e.g. "),e("code",[t._v("api.pugetsound.onebusaway.org")]),t._v(".")]),t._v(" "),e("td",[t._v("yes")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("table",[e("thead",[e("tr",[e("th",[t._v("Parameter")]),t._v(" "),e("th",[t._v("Name")]),t._v(" "),e("th",[t._v("Description")]),t._v(" "),e("th",[t._v("Required")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("stopId")])]),t._v(" "),e("td",[t._v("Stop ID")]),t._v(" "),e("td",[t._v("The OneBusAway ID of the stop to obtain data for, e.g. "),e("code",[t._v("1_26860")]),t._v(".")]),t._v(" "),e("td",[t._v("yes")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("interval")])]),t._v(" "),e("td",[t._v("Update Interval")]),t._v(" "),e("td",[t._v("The number of seconds between updates.")]),t._v(" "),e("td",[t._v("no")])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"thing-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#thing-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Thing Configuration")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("table",[e("thead",[e("tr",[e("th",[t._v("Parameter")]),t._v(" "),e("th",[t._v("Name")]),t._v(" "),e("th",[t._v("Description")]),t._v(" "),e("th",[t._v("Required")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("routeId")])]),t._v(" "),e("td",[t._v("Route ID")]),t._v(" "),e("td",[t._v("The OneBusAway ID of the route to obtain data for, e.g. "),e("code",[t._v("1_102574")]),t._v(".")]),t._v(" "),e("td",[t._v("yes")])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"channels"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#channels","aria-hidden":"true"}},[this._v("#")]),this._v(" Channels")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("table",[e("thead",[e("tr",[e("th",[t._v("Channel Type ID")]),t._v(" "),e("th",[t._v("Channel Kind")]),t._v(" "),e("th",[t._v("Item Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("arrival")]),t._v(" "),e("td",[t._v("state")]),t._v(" "),e("td",[t._v("DateTime")]),t._v(" "),e("td",[t._v("The arrival time of a Route at a Stop.")])]),t._v(" "),e("tr",[e("td",[t._v("departure")]),t._v(" "),e("td",[t._v("state")]),t._v(" "),e("td",[t._v("DateTime")]),t._v(" "),e("td",[t._v("The departure time of a Route at a Stop.")])]),t._v(" "),e("tr",[e("td",[t._v("update")]),t._v(" "),e("td",[t._v("state")]),t._v(" "),e("td",[t._v("DateTime")]),t._v(" "),e("td",[t._v("The last time this data was updated (per the data provider, not the last time openHAB updated the data).")])]),t._v(" "),e("tr",[e("td",[t._v("arrivalDeparture")]),t._v(" "),e("td",[t._v("trigger")]),t._v(" "),e("td",[t._v("DateTime")]),t._v(" "),e("td",[t._v("Triggered when a Route arrives or departs a Stop.")])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"channel-configurations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#channel-configurations","aria-hidden":"true"}},[this._v("#")]),this._v(" Channel Configurations")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",[t._v("The "),e("code",[t._v("arrival")]),t._v(", "),e("code",[t._v("departure")]),t._v(", and "),e("code",[t._v("arrivalDeparture")]),t._v(" channels can be configured with an "),e("code",[t._v("offset")]),t._v(" specifying the number of seconds to move an event back in time.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"full-example"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#full-example","aria-hidden":"true"}},[this._v("#")]),this._v(" Full Example")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("code",[this._v("demo.things")]),this._v(":")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-dsl"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Bridge")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("onebusaway"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("api"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("pugetsound")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("apiKey"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"your-api-key"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" apiServer"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"api.pugetsound.onebusaway.org"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Bridge")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("onebusaway"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("stop"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("1_26860")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("stopId"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1_26860"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Thing")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("onebusaway"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("route"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("1_100193")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("routeId"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1_100193"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Thing")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("onebusaway"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("route"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("1_102574")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("routeId"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1_102574"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Thing")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("onebusaway"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("route"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("1_100252")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("routeId"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1_100252"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("code",[this._v("demo.items")]),this._v(":")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-dsl"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Route 1_100193 (#32)")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DateTime")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Fremont_32_Arrival")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"32 - University District"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"onebusaway:route:1_100193:arrival"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DateTime")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Fremont_32_Departure")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"32 - University District"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"onebusaway:route:1_100193:departure"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Route 1_102574 (#40)")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DateTime")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Fremont_40_Arrival")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"40 - Ballard"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"onebusaway:route:1_102574:arrival"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DateTime")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Fremont_40_Departure")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"40 - Ballard"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"onebusaway:route:1_102574:departure"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Route 1_100252 (#62)")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DateTime")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Fremont_62_Arrival")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"62 - Sand Point East Green Lake"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"onebusaway:route:1_100252:arrival"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DateTime")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Fremont_62_Departure")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"62 - Sand Point East Green Lake"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"onebusaway:route:1_100252:departure"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])}],!1,null,null,null);a.default=n.exports}}]);