(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{568:function(t,e,s){"use strict";s.r(e);var n=s(0),a=Object(n.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"mios-actions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mios-actions","aria-hidden":"true"}},[t._v("#")]),t._v(" MiOS Actions "),s("Badge",{attrs:{type:"warn",text:"v1"}})],1),t._v(" "),s("p",[t._v("This bundle exposes openHAB Rule extensions to be used with the MiOS Binding (1.x).")]),t._v(" "),s("p",[t._v("It exposes the ability to do the following things in the MiOS HA Controller from within openHAB rules]:")]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),s("p",[t._v("The MiOS Action bundle relies upon the MiOS Binding (1.x) being installed and configured.  Once these are done, you're ready to use the rule extensions this bundle provides.")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),s("p",[t._v("or")]),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),s("p",[t._v("The available "),s("em",[t._v("ServiceAction")]),t._v("'s are described in the "),s("a",{attrs:{href:"http://wiki.micasaverde.com/index.php/Luup_UPnP_Variables_and_Actions",target:"_blank",rel:"noopener noreferrer"}},[t._v("MiOS Luup UPnP Variables and Actions"),s("OutboundLink")],1),t._v(" documentation.")]),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._m(13),t._v(" "),t._m(14),t._m(15),t._v(" "),t._m(16),s("DocPreviousVersions"),t._v(" "),s("EditPageLink")],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("em",[this._v("Device Actions")]),this._v(" - Asynchronously invoke MiOS Device Actions involving 0, 1 or more parameters.")]),this._v(" "),e("li",[e("em",[this._v("Scenes Invocation")]),this._v(" - Asynchronously invoke MiOS Scenes")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"prerequisites"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites","aria-hidden":"true"}},[this._v("#")]),this._v(" Prerequisites")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"actions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#actions","aria-hidden":"true"}},[this._v("#")]),this._v(" Actions")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("code",[t._v("sendMiosAction(Item item, String action)")]),t._v(" - requests the "),s("em",[t._v("parameterless")]),t._v(" Device Action, specified through "),s("code",[t._v("action")]),t._v(", be invoked on the MiOS Device bound to "),s("code",[t._v("item")]),t._v(".")]),t._v(" "),s("li",[s("code",[t._v("sendMiosAction(Item item, String action, List<<String,Object>> params)")]),t._v(" - as above, but for parameterized Device Actions.")]),t._v(" "),s("li",[s("code",[t._v("sendMiosScene(Item scene)")]),t._v(" - requests the scene associated with the "),s("code",[t._v("scene")]),t._v(" parameter be invoked on the MiOS Unit.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The "),e("code",[this._v("action")]),this._v(" argument of the "),e("code",[this._v("sendMiosAction")]),this._v(" action is a string of the form:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("<ServiceURN>/<ServiceAction>\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("<ServiceAlias>/<ServiceAction>\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("where "),e("em",[this._v("ServiceURN")]),this._v(", "),e("em",[this._v("ServiceAlias")]),this._v(" and "),e("em",[this._v("ServiceAction")]),this._v(" have the same form as described in MiOS Binding (1.x) commands.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You can use the MiOS "),e("code",[this._v("invoke")]),this._v(" URL to discover the "),e("em",[this._v("Actions")]),this._v(", and "),e("em",[this._v("Action-parameters")]),this._v(", your particular MiOS device supports:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("http://<host>:3480/data_request?id=invoke\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"examples"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples","aria-hidden":"true"}},[this._v("#")]),this._v(" Examples")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Invoking a Device Action and calling a Scene to turn off the AV.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("rule "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Test action rules Off"')]),t._v("\n    when\n        Time cron "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0 45 23 * * ?"')]),t._v("\n    then\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendMiosAction")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("FamilyMainLightsId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Dimmer/SetLoadLevelTarget"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("newArrayList")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'newLoadlevelTarget'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendMiosScene")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SceneGoodNight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nend\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Invoking a Sonos Device on MiOS to "),e("em",[this._v("say")]),this._v(" something")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-rules"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("rule")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Test action say"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("when")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Item")]),t._v(" HallGarageDoorZoneTripped "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("changed")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("to")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("OPEN")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendMiosAction")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("OfficeSonosId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Sonos/Say"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("newArrayList")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Text'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Warning! Garage door opened'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Volume'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Disarm your Alarm Panel (Paradox, GE, Ademco/Vista, DSC, etc)")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-rules"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("rule")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Test action Disarm"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("when")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendMiosAction")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("EVL3VistaPartition1ArmMode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Alarm/RequestArmMode'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("newArrayList")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'State'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Disarmed'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" PINCode' "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])])}],!1,null,null,null);e.default=a.exports}}]);