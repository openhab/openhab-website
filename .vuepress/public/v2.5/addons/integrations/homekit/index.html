<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HomeKit Add-on - System Integrations | openHAB</title>
    <meta name="description" content="This is an add-on that exposes your openHAB system as a bridge over the HomeKit protocol.">
    <link rel="stylesheet" href="/v2.5/fonts/fonts.css">
  <link rel="icon" href="/v2.5/favicon.ico">
  <link rel="shortcut icon" href="/v2.5/favicon.ico">
  <link rel="apple-touch-icon" href="/v2.5/apple-icon.png">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://www.openhab.org/og-image.png">
    <meta property="og:title" content="HomeKit Add-on - System Integrations"><meta property="og:description" content="This is an add-on that exposes your openHAB system as a bridge over the HomeKit protocol.">
    <link rel="preload" href="/v2.5/assets/css/0.styles.17119d73.css" as="style"><link rel="preload" href="/v2.5/assets/js/app.6e1f6232.js" as="script"><link rel="preload" href="/v2.5/assets/js/452.fa9aab65.js" as="script"><link rel="preload" href="/v2.5/assets/js/31.b268bf8b.js" as="script"><link rel="preload" href="/v2.5/assets/js/32.7c8f01a5.js" as="script"><link rel="preload" href="/v2.5/assets/js/33.df59480d.js" as="script">
    <link rel="stylesheet" href="/v2.5/assets/css/0.styles.17119d73.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/v2.5/" class="home-link router-link-active"><img src="/v2.5/openhab-logo.png" alt="openHAB" class="logo"> <span class="site-name can-hide">openHAB</span></a> <div class="links" style="max-width:nullpx;"><form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/v2.5/blog/" class="nav-link">Blog</a></div><div class="nav-item"><a href="/v2.5/download/" class="nav-link">Download</a></div><div class="nav-item"><a href="/v2.5/docs/" class="nav-link">Documentation</a></div><div class="nav-item"><a href="/v2.5/addons/" class="nav-link router-link-active">Add-ons</a></div><div class="nav-item"><a href="/v2.5/community/" class="nav-link">Community</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">About</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Get Involved</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/v2.5/about/who-we-are.html" class="nav-link">Who We Are</a></li><li class="dropdown-subitem"><a href="/v2.5/about/contributing.html" class="nav-link">Contribute</a></li><li class="dropdown-subitem"><a href="/v2.5/about/events.html" class="nav-link">Events</a></li></ul></li><li class="dropdown-item"><h4>Support openHAB</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://openhabfoundation.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Foundation
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="/v2.5/about/donate.html" class="nav-link">Donate</a></li></ul></li><li class="dropdown-item"><h4>Resources</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/v2.5/about/showcase.html" class="nav-link">Showcase/How-tos</a></li><li class="dropdown-subitem"><a href="/v2.5/privacy.html" class="nav-link">Privacy Policy</a></li><li class="dropdown-subitem"><a href="https://www.myopenhab.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  myopenHAB
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/openhab" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/v2.5/blog/" class="nav-link">Blog</a></div><div class="nav-item"><a href="/v2.5/download/" class="nav-link">Download</a></div><div class="nav-item"><a href="/v2.5/docs/" class="nav-link">Documentation</a></div><div class="nav-item"><a href="/v2.5/addons/" class="nav-link router-link-active">Add-ons</a></div><div class="nav-item"><a href="/v2.5/community/" class="nav-link">Community</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">About</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Get Involved</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/v2.5/about/who-we-are.html" class="nav-link">Who We Are</a></li><li class="dropdown-subitem"><a href="/v2.5/about/contributing.html" class="nav-link">Contribute</a></li><li class="dropdown-subitem"><a href="/v2.5/about/events.html" class="nav-link">Events</a></li></ul></li><li class="dropdown-item"><h4>Support openHAB</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://openhabfoundation.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Foundation
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="/v2.5/about/donate.html" class="nav-link">Donate</a></li></ul></li><li class="dropdown-item"><h4>Resources</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/v2.5/about/showcase.html" class="nav-link">Showcase/How-tos</a></li><li class="dropdown-subitem"><a href="/v2.5/privacy.html" class="nav-link">Privacy Policy</a></li><li class="dropdown-subitem"><a href="https://www.myopenhab.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  myopenHAB
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/openhab" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Bindings</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>System Integrations</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/v2.5/addons/integrations/azureiothub/" class="sidebar-link">Azure IoT Hub Connector</a></li><li><a href="/v2.5/addons/integrations/gcal/" class="sidebar-link">Google Calendar Scheduler</a></li><li><a href="/v2.5/addons/integrations/homekit/" class="active sidebar-link">HomeKit Add-on</a></li><li><a href="/v2.5/addons/integrations/imperihome/" class="sidebar-link">ImperiHome integration service</a></li><li><a href="/v2.5/addons/integrations/mqttembeddedbroker/" class="sidebar-link">MQTT Broker Moquette</a></li><li><a href="/v2.5/addons/integrations/openhabcloud/" class="sidebar-link">openHAB Cloud Connector</a></li><li><a href="/v2.5/addons/integrations/hueemulation/" class="sidebar-link">openHAB Hue Emulation</a></li><li><a href="/v2.5/addons/integrations/neeo/" class="sidebar-link">openHAB NEEO Integration</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Actions</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Data Persistence</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Data Transformation</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Voice</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="homekit-add-on"><a href="#homekit-add-on" aria-hidden="true" class="header-anchor">#</a> HomeKit Add-on</h1> <img src="/v2.5/logos/homekit.png" class="addon-logo"> <p>This is an add-on that exposes your openHAB system as a bridge over the HomeKit protocol.</p> <p>Using this add-on, you will be able to control your openHAB system using Apple's Siri, or any of a number of HomeKit enabled iOS apps.
In order to do so, you will need to make some configuration changes.
HomeKit organizes your home into &quot;accessories&quot; that are made up of a number of &quot;characteristics&quot;.
Some accessory types require a specific set of characteristics.</p> <p><strong>Attention: Some tags have been renamed. Old style may not be supported in future versions. See below for details.</strong></p> <h2 id="global-configuration"><a href="#global-configuration" aria-hidden="true" class="header-anchor">#</a> Global Configuration</h2> <p>Your first step will be to create the <code>homekit.cfg</code> in your <code>$OPENHAB_CONF/services</code> folder.
At the very least, you will need to define a pin number for the bridge.
This will be used in iOS when pairing. The pin code is in the form &quot;###-##-###&quot;.
Requirements beyond this are not clear, and Apple enforces limitations on eligible pins within iOS.
At the very least, you cannot use repeating (111-11-111) or sequential (123-45-678) pin codes.
If your home network is secure, a good starting point is the pin code used in most sample applications: 031-45-154.
Check for typos in the pin-code if you encounter &quot;Bad Client Credential&quot; errors during pairing.</p> <p>Other settings, such as using Fahrenheit temperatures, customizing the thermostat heat/cool/auto modes, and specifying the interface to advertise the HomeKit bridge (which can be edited in Paper UI standard mode) are also illustrated in the following sample:</p> <div class="language- extra-class"><pre class="language-text"><code>org.openhab.homekit:port=9124
org.openhab.homekit:pin=031-45-154
org.openhab.homekit:useFahrenheitTemperature=true
org.openhab.homekit:thermostatTargetModeCool=CoolOn
org.openhab.homekit:thermostatTargetModeHeat=HeatOn
org.openhab.homekit:thermostatTargetModeAuto=Auto
org.openhab.homekit:thermostatTargetModeOff=Off
org.openhab.homekit:networkInterface=192.168.0.6
</code></pre></div><p>The following additional settings can be added or edited in Paper UI after switching to expert mode:</p> <div class="language- extra-class"><pre class="language-text"><code>org.openhab.homekit:name=openHAB
org.openhab.homekit:minimumTemperature=-100
org.openhab.homekit:maximumTemperature=100
</code></pre></div><h3 id="overview-of-all-settings"><a href="#overview-of-all-settings" aria-hidden="true" class="header-anchor">#</a> Overview of all settings</h3> <table><thead><tr><th>Setting</th> <th>Description</th> <th>Default value</th></tr></thead> <tbody><tr><td>networkInterface</td> <td>IP address or domain name under which the HomeKit bridge can be reached. If no value is configured, the add-on uses the first network adapter address.</td> <td>(none)</td></tr> <tr><td>port</td> <td>Port under which the HomeKit bridge can be reached.</td> <td>9123</td></tr> <tr><td>pin</td> <td>Pin code used for pairing with iOS devices. Apparently, pin codes are provided by Apple and represent specific device types, so they cannot be chosen freely. The pin code 031-45-154 is used in sample applications and known to work.</td> <td>031-45-154</td></tr> <tr><td>useFahrenheitTemperature</td> <td>Set to true to use Fahrenheit degrees, or false to use Celsius degrees.</td> <td>false</td></tr> <tr><td>thermostatTargetModeCool</td> <td>Word used for activating the cooling mode of the device (if applicable).</td> <td>CoolOn</td></tr> <tr><td>thermostatTargetModeHeat</td> <td>Word used for activating the heating mode of the device (if applicable).</td> <td>HeatOn</td></tr> <tr><td>thermostatTargetModeAuto</td> <td>Word used for activating the automatic mode of the device (if applicable).</td> <td>Auto</td></tr> <tr><td>thermostatTargetModeOff</td> <td>Word used to set the thermostat mode of the device to off (if applicable).</td> <td>Off</td></tr> <tr><td>minimumTemperature</td> <td>Lower bound of possible temperatures, used in the user interface of the iOS device to display the allowed temperature range. Note that this setting applies to all devices in HomeKit.</td> <td>-100</td></tr> <tr><td>maximumTemperature</td> <td>Upper bound of possible temperatures, used in the user interface of the iOS device to display the allowed temperature range. Note that this setting applies to all devices in HomeKit.</td> <td>100</td></tr> <tr><td>name</td> <td>Name under which this HomeKit bridge is announced on the network. This is also the name displayed on the iOS device when searching for available bridges.</td> <td>openHAB</td></tr></tbody></table> <h2 id="item-configuration"><a href="#item-configuration" aria-hidden="true" class="header-anchor">#</a> Item Configuration</h2> <p>After setting this global configuration, you will need to tag your <a href="https://www.openhab.org/docs/configuration/items.html" target="_blank" rel="noopener noreferrer">openHAB items<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for HomeKit in order to map them to an ontology.
For our purposes, you may consider HomeKit accessories to be of two forms: simple and complex.</p> <p>A simple accessory will be mapped to a single openHAB item (i.e. a Lightbulb is mapped to a Switch, Dimmer, or Color item).
A complex accessory will be made up of multiple openHAB items (i.e. a Thermostat is composed of Heating and Cooling thresholds, a mode, and current temperature).
Complex accessories require a tag on a Group indicating the accessory type, as well as tags on the items it composes.</p> <p>A full list of supported accessory types can be found in the table below.</p> <table><thead><tr><th>Tag</th> <th>Child tag</th> <th>Supported items</th> <th>Description</th></tr></thead> <tbody><tr><td>Lighting</td> <td></td> <td>Switch, Dimmer, Color</td> <td>A lightbulb, switchable, dimmable or rgb</td></tr> <tr><td>Switchable</td> <td></td> <td>Switch, Dimmer, Color</td> <td>An accessory that can be turned off and on. While similar to a lightbulb, this will be presented differently in the Siri grammar and iOS apps</td></tr> <tr><td>ContactSensor</td> <td></td> <td>Contact</td> <td>An accessory with on/off state that can be viewed in HomeKit but not changed such as a contact sensor for a door or window</td></tr> <tr><td>CurrentTemperature</td> <td></td> <td>Number</td> <td>An accessory that provides a single read-only temperature value. The units default to celsius but can be overridden globally using the useFahrenheitTemperature global property</td></tr> <tr><td>CurrentHumidity</td> <td></td> <td>Number</td> <td>An accessory that provides a single read-only value indicating the relative humidity.</td></tr> <tr><td>Thermostat</td> <td></td> <td>Group</td> <td>A thermostat requires all child tags defined below</td></tr> <tr><td></td> <td>CurrentTemperature</td> <td>Number</td> <td>The current temperature, same as above</td></tr> <tr><td></td> <td>homekit:TargetHeatingCoolingMode</td> <td>String</td> <td>Indicates the desired mode of the device: OFF, AUTO, HEAT, COOL. The string's value must match those defined in the thermostat*Mode properties. This is a HomeKit-specific term and therefore the tags needs to be prefixed with &quot;homekit:&quot;</td></tr> <tr><td></td> <td>homekit:CurrentHeatingCoolingMode</td> <td>String</td> <td>Indicates the current mode of the device: OFF, AUTO, HEAT, COOL. The string's value must match those defined in the thermostat*Mode properties. This is a HomeKit-specific term and therefore the tags needs to be prefixed with &quot;homekit:&quot;</td></tr> <tr><td></td> <td>homekit:TargetTemperature</td> <td>Number</td> <td>A target temperature that will engage the thermostat's heating and cooling actions as necessary, depending on the heatingCoolingMode. This is a HomeKit-specific term and therefore the tags needs to be prefixed with &quot;homekit:&quot;</td></tr> <tr><td>WindowCovering</td> <td></td> <td>Rollershutter</td> <td>A window covering</td></tr></tbody></table> <p><strong>Please note:</strong> <code>TargetTemperature</code> has been renamed to <code>homekit:TargetTemperature</code> and <code>homekit:HeatingCoolingMode</code> has been renamed to <code>homekit:TargetHeatingCoolingMode</code>.</p> <p>See the sample below for example items:</p> <div class="language- extra-class"><pre class="language-dsl"><code><span class="token keyword">Switch</span> <span class="token class-name">KitchenLights</span> <span class="token string">&quot;Kitchen Lights&quot;</span><span class="token function"> &lt;light&gt;</span><span class="token tag"> (gKitchen)</span> <span class="token punctuation">[</span> <span class="token string">&quot;Lighting&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">Dimmer</span> <span class="token class-name">BedroomLights</span> <span class="token string">&quot;Bedroom Lights&quot;</span><span class="token function"> &lt;light&gt;</span><span class="token tag"> (gBedroom)</span> <span class="token punctuation">[</span> <span class="token string">&quot;Lighting&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">Number</span> <span class="token class-name">BedroomTemperature</span> <span class="token string">&quot;Bedroom Temperature&quot;</span><span class="token tag"> (gBedroom)</span> <span class="token punctuation">[</span> <span class="token string">&quot;CurrentTemperature&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">Group</span> <span class="token class-name">gDownstairsThermostat</span> <span class="token string">&quot;Downstairs Thermostat&quot;</span><span class="token tag"> (gFF)</span> <span class="token punctuation">[</span> <span class="token string">&quot;Thermostat&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">Number</span> <span class="token class-name">DownstairsThermostatCurrentTemp</span> <span class="token string">&quot;Downstairs Thermostat Current Temperature&quot;</span><span class="token tag"> (gDownstairsThermostat)</span> <span class="token punctuation">[</span> <span class="token string">&quot;CurrentTemperature&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">Number</span> <span class="token class-name">DownstairsThermostatTargetTemperature</span> <span class="token string">&quot;Downstairs Thermostat Target Temperature&quot;</span><span class="token tag"> (gDownstairsThermostat)</span> <span class="token punctuation">[</span> <span class="token string">&quot;TargetTemperature&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">String</span> <span class="token class-name">DownstairsThermostatHeatingCoolingMode</span> <span class="token string">&quot;Downstairs Thermostat Heating/Cooling Mode&quot;</span><span class="token tag"> (gDownstairsThermostat)</span> <span class="token punctuation">[</span> <span class="token string">&quot;homekit:TargetHeatingCoolingMode&quot;</span> <span class="token punctuation">]</span>
</code></pre></div><h2 id="common-problems"><a href="#common-problems" aria-hidden="true" class="header-anchor">#</a> Common Problems</h2> <p><strong>openHAB HomeKit hub shows up when I manually scan for devices, but Home app reports &quot;can't connect to device&quot;</strong></p> <p>If you see this error in the Home app, and don't see any log messages, it could be because your IP address in the <code>networkInterface</code> setting is misconfigured.
The openHAB HomeKit hub is advertised via mDNS.
If you register an IP address that isn't reachable from your phone (such as <code>localhost</code>, <code>0.0.0.0</code>, <code>127.0.0.1</code>, etc.), then Home will be unable to reach openHAB.</p> <h2 id="additional-notes"><a href="#additional-notes" aria-hidden="true" class="header-anchor">#</a> Additional Notes</h2> <p>HomeKit allows only a single pairing to be established with the bridge.
This pairing is normally shared across devices via iCloud.
If you need to establish a new pairing, you will need to clear the existing pairings.
To do this, you can issue the command <code>smarthome:homekit clearPairings</code> from the <a href="https://www.openhab.org/docs/administration/console.html" target="_blank" rel="noopener noreferrer">OSGi console<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.
After doing this, you may need to remove the file <code>$OPENHAB_USERDATA/jsondb/homekit.json</code> and restart openHAB.</p> <p>HomeKit requires a unique identifier for each accessory advertised by the bridge.
This unique identifier is hashed from the Item's name.
For that reason, it is important that the name of your Items exposed to HomeKit remain consistent.</p> <p>HomeKit listens by default on port 9124.
Java prefers the IPv6 network stack by default.
If you have connection or detection problems, you can configure Java to prefer the IPv4 network stack instead.
To prefer the IPv4 network stack, adapt the Java command line arguments to include: <code>-Djava.net.preferIPv4Stack=true</code>
Depending on the openHAB installation method, you should modify <code>start.sh</code>, <code>start_debug.sh</code>, <code>start.bat</code>, or <code>start_debug.bat</code> (standalone/manual installation) or <code>EXTRA_JAVA_OPTS</code> in <code>/etc/default/openhab2</code> (Debian installation).</p> <p>If you encounter any issues with the add-on and need support, it may be important to get detailed logs of your device's communication with openHAB.
In order to get logs from the underlying library used to implement the HomeKit protocol, enable trace logging using the following commands at <a href="https://www.openhab.org/docs/administration/console.html" target="_blank" rel="noopener noreferrer">the console<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <div class="language- extra-class"><pre class="language-text"><code>openhab&gt; log:set TRACE com.beowulfe.hap
openhab&gt; log:tail com.beowulfe.hap
</code></pre></div><div class="page-versions"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Version: 2.5</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><a href="https://www.openhab.org/addons/integrations/homekit/">latest</a></li><li class="dropdown-item"><a class="current">2.5</a></li></ul></div></div> <div class="editLink"><em>Caught a mistake or want to contribute to the documentation? <a target="_blank" href="https://github.com/openhab/openhab2-addons/edit/master/bundles/org.openhab.io.homekit/README.md">Edit this page on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></em> <!----></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/v2.5/addons/integrations/gcal/" class="prev">
          Google Calendar Scheduler
        </a></span> <span class="next"><a href="/v2.5/addons/integrations/imperihome/">
          ImperiHome integration service
        </a>
        →
      </span></p></div> <footer><div class="social-icons"><a href="https://twitter.com/openhab" target="_blank"><svg class="social-icon twitter"><path d="M32 7.075c-1.175 0.525-2.444 0.875-3.769 1.031 1.356-0.813 2.394-2.1 2.887-3.631-1.269 0.75-2.675 1.3-4.169 1.594-1.2-1.275-2.906-2.069-4.794-2.069-3.625 0-6.563 2.938-6.563 6.563 0 0.512 0.056 1.012 0.169 1.494-5.456-0.275-10.294-2.888-13.531-6.862-0.563 0.969-0.887 2.1-0.887 3.3 0 2.275 1.156 4.287 2.919 5.463-1.075-0.031-2.087-0.331-2.975-0.819 0 0.025 0 0.056 0 0.081 0 3.181 2.263 5.838 5.269 6.437-0.55 0.15-1.131 0.231-1.731 0.231-0.425 0-0.831-0.044-1.237-0.119 0.838 2.606 3.263 4.506 6.131 4.563-2.25 1.762-5.075 2.813-8.156 2.813-0.531 0-1.050-0.031-1.569-0.094 2.913 1.869 6.362 2.95 10.069 2.95 12.075 0 18.681-10.006 18.681-18.681 0-0.287-0.006-0.569-0.019-0.85 1.281-0.919 2.394-2.075 3.275-3.394z"></path></svg></a> <a href="https://github.com/openhab" target="_blank"><svg class="social-icon github"><path d="M10.369 24.837c0 0.125-0.144 0.225-0.325 0.225-0.206 0.019-0.35-0.081-0.35-0.225 0-0.125 0.144-0.225 0.325-0.225 0.188-0.019 0.35 0.081 0.35 0.225zM8.425 24.556c-0.044 0.125 0.081 0.269 0.269 0.306 0.162 0.063 0.35 0 0.387-0.125s-0.081-0.269-0.269-0.325c-0.162-0.044-0.344 0.019-0.387 0.144zM11.188 24.45c-0.181 0.044-0.306 0.163-0.287 0.306 0.019 0.125 0.181 0.206 0.369 0.163 0.181-0.044 0.306-0.163 0.287-0.288-0.019-0.119-0.188-0.2-0.369-0.181zM15.3 0.5c-8.669 0-15.3 6.581-15.3 15.25 0 6.931 4.362 12.863 10.594 14.95 0.8 0.144 1.081-0.35 1.081-0.756 0-0.387-0.019-2.525-0.019-3.837 0 0-4.375 0.938-5.294-1.863 0 0-0.713-1.819-1.737-2.288 0 0-1.431-0.981 0.1-0.962 0 0 1.556 0.125 2.412 1.613 1.369 2.413 3.662 1.719 4.556 1.306 0.144-1 0.55-1.694 1-2.106-3.494-0.387-7.019-0.894-7.019-6.906 0-1.719 0.475-2.581 1.475-3.681-0.162-0.406-0.694-2.081 0.162-4.244 1.306-0.406 4.313 1.688 4.313 1.688 1.25-0.35 2.594-0.531 3.925-0.531s2.675 0.181 3.925 0.531c0 0 3.006-2.1 4.313-1.688 0.856 2.169 0.325 3.838 0.163 4.244 1 1.106 1.613 1.969 1.613 3.681 0 6.031-3.681 6.512-7.175 6.906 0.575 0.494 1.063 1.431 1.063 2.9 0 2.106-0.019 4.712-0.019 5.225 0 0.406 0.288 0.9 1.081 0.756 6.25-2.075 10.488-8.006 10.488-14.938 0-8.669-7.031-15.25-15.7-15.25zM6.075 22.056c-0.081 0.063-0.063 0.206 0.044 0.325 0.1 0.1 0.244 0.144 0.325 0.063 0.081-0.063 0.063-0.206-0.044-0.325-0.1-0.1-0.244-0.144-0.325-0.063zM5.4 21.55c-0.044 0.081 0.019 0.181 0.144 0.244 0.1 0.063 0.225 0.044 0.269-0.044 0.044-0.081-0.019-0.181-0.144-0.244-0.125-0.038-0.225-0.019-0.269 0.044zM7.425 23.775c-0.1 0.081-0.063 0.269 0.081 0.387 0.144 0.144 0.325 0.163 0.406 0.063 0.081-0.081 0.044-0.269-0.081-0.387-0.138-0.144-0.325-0.163-0.406-0.063zM6.713 22.856c-0.1 0.063-0.1 0.225 0 0.369s0.269 0.206 0.35 0.144c0.1-0.081 0.1-0.244 0-0.387-0.088-0.144-0.25-0.206-0.35-0.125z"></path></svg></a> <a href="https://www.youtube.com/channel/UC7OK88DW0La_BJlcXZg8ydQ" target="_blank"><svg class="social-icon youtube"><path d="M31.681 9.6c0 0-0.313-2.206-1.275-3.175-1.219-1.275-2.581-1.281-3.206-1.356-4.475-0.325-11.194-0.325-11.194-0.325h-0.012c0 0-6.719 0-11.194 0.325-0.625 0.075-1.987 0.081-3.206 1.356-0.963 0.969-1.269 3.175-1.269 3.175s-0.319 2.588-0.319 5.181v2.425c0 2.587 0.319 5.181 0.319 5.181s0.313 2.206 1.269 3.175c1.219 1.275 2.819 1.231 3.531 1.369 2.563 0.244 10.881 0.319 10.881 0.319s6.725-0.012 11.2-0.331c0.625-0.075 1.988-0.081 3.206-1.356 0.962-0.969 1.275-3.175 1.275-3.175s0.319-2.587 0.319-5.181v-2.425c-0.006-2.588-0.325-5.181-0.325-5.181zM12.694 20.15v-8.994l8.644 4.513-8.644 4.481z"></path></svg></a></div> <div class="legal"><span class="copyright">Copyright © 2019 by the openHAB Community and the openHAB Foundation e.V.</span> <br> <span class="legal-links"><a href="/v2.5/privacy.html">Privacy policy</a> |
    <a href="/v2.5/imprint.html">Imprint</a></span></div> <img src="/openhab-logo-square.png" class="footer-logo"></footer></div> <!----></div></div>
    <script src="/v2.5/assets/js/app.6e1f6232.js" defer></script><script src="/v2.5/assets/js/452.fa9aab65.js" defer></script><script src="/v2.5/assets/js/31.b268bf8b.js" defer></script><script src="/v2.5/assets/js/32.7c8f01a5.js" defer></script><script src="/v2.5/assets/js/33.df59480d.js" defer></script>
  </body>
</html>
